<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <title>Insert Product</title>
</head>
<body>
    
    <div class="container">
        <h3>Add a new product.</h3>
        <form class="form-inline" action="<% formObject.isEdit ? 'product/update/:id' : '/product/create' %>" method="POST">
            <div class="row">
                <div class="col">
                    <div class="form-group mx-sm-3 mb-2">
                        <label for="name" class="colFormLabel">Product Name: </label>
                        <input type="text" name="name" id="name" class="form-control" value="<%= formObject.product.name || ''  %>">
                    </div>
                </div>
                <div class="col">
                    <div class="form-group mx-sm-3 mb-2">
                        <label for="manufacturer">Manufacturer: </label>
                        <select name="manufacturer_id" id="manufacturer_id" class="form-control" value="<%= formObject.product.manufacturer_id || '' %>">
                            <option value=""> Please select a manufacturer.</option>
                        </select>
                    </div>
                </div>
            </div>


            <div class="row">
                <div class="col">
                    <div class="form-group mx-sm-3 mb-2">
                        <label for="quantity">Quantity: </label>
                        <input type="number" id="quantity" name="quantity" class="form-control" value="<%= formObject.product.quantity || 0 %>">
                    </div>
                </div>
                    <div class="col">
                        <div class="form-group mx-sm-3 mb-2">
                        <label for="price">Price: </label>
                        <input type="text" name="price" id="price" class="form-control" value ="<%= formObject.product.price || 0 %>" >
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <div class="form-group mx-sm-3 mb-2">
                        <label for="productCode">Product Code: </label>
                        <input type="text" id="productCode" name="productCode" class="form-control" value="<%= formObject.product.product_code || '' %>">
                    </div>
                </div>
                <div class="col">

                </div>
            </div>

            <div class="row">
                <div class="form-group mx-sm-3 mb-2">
                    <label for="description">Description: </label>
                    <textarea name="description" id="description" class="form-control" value="<%= formObject.product.description || '' %>"> <%= formObject.product.description %></textarea>
                </div>
            </div>

            <div class="row">
                <div class="col">
                        <div class="form-group mx-sm-3 mb-2">
                        <label for="category">Category: </label>
                        <select name="category_id" id="category_id" class="form-control" value="<%= formObject.product.category_id || 1 %>">
                            <option value=""> Please select a category</option>
                            <% formObject.categories.map((category) => { %>
                                <% if(category.id == formObject.product.category_id){ %>
                                    <option value="<%=category.id%>" selected><%=category.name%></option>
                                <% } else { %>
                                    <option value="<%=category.id%>"><%=category.name%></option>
                                <% } %> 
                                
                            <% }) %>
                        </select>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group mx-sm-3 mb-2">
                        <label for="warehouse">Warehouse: </label>
                        <select name="warehouse_id" id="warehouse_id" class="form-control" value="<%= formObject.product.warehouse_id || 1 %>">
                            <option value="">Please select a warehouse</option>
                            <% formObject.warehouses.map((warehouse) => { %>
                                <% if(warehouse.id == formObject.product.warehouse_id){ %>
                                    <option value="<%=warehouse.id%>" selected><%= warehouse.name %></option>
                                <% } else { %>
                                    <option value="<%=warehouse.id%>"><%= warehouse.name %></option>
                                <% } %>
                            <% }) %>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <button type="submit" class="btn btn-success btn-lg">Submit</button>
                </div>
            </div>
        </form>
    </div>

</body>
</html>